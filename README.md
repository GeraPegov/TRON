# Сервис "AccountTron"

Сервис для просмотра bindwith, energy кошелька через TRON 

## Особенности: 

- Использование асинхронных библиотек 
- Планировщик задач для удаления старых записей(24 часа) 
- Логирование действий 
- Запись всех просмотров в базу данных(IP клиента, дата, время, номер кошелька)

## Требования: 
- Python 3.9+

## Запуск: 
- Установить все бибилотеки из requirements(pip install requirements.txt)
- Перейти в директорию в которой находится папка(cd tronapi)
- В терминале запустить сервер uvicorn(uvicorn programmTRON:app --reload)
- Перейти по адресу, который выдаст при успешном подключении

```bash 
pip install requirements.txt 
#если вы не в директории перейдите по адресу в папку с программой:
cd tronapi 
#запуск сервера 
uvicorn programmTRON:app --reload
```
Сервис будет доступен по адресу: http://localhost:8000

## Просмотр кошелька 
- В единственное поле на главной странице сайта нужно ввести номер кошелька TRON и нажать отправить 
- Вас перекинет на страницу со всей информацией 
- Чтобы просмотреть все записи нужно нажать кнопку отправить под заголовком "Перейти на просмотр заявок"

## Пример запроса:

## Пример ответа: 

## Структура базы данных `wallet`:
- `id` - автоматический ID при заполнении таблицы(каждый раз уникальный)
- `namewallet` - номер кошелька 
- `data` - дата создания
- `time` - время создания
- `ip` - айпи адрес пользователя 

## Тестирование

Проект включает автоматические тесты для проверки основных функций API.

### Запуск тестов

```bash
# Установить зависимости для тестирования
pip install -r requirements.txt

# Запустить тесты
pytest tests.py -v
```

### Покрытие тестами: 

Тесты проверяют следующие аспекты:

- Создание и проверка всех pydantic моделей
- Проверка запроса ввода и вывода из базы данных 
